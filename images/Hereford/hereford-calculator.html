<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hereford Cattle Color Calculator</title>
    <style>
        :root {
            --brand-color1: #052e68;
            --brand-color2: #0a5fd7;
            --brand-color3: #009be1;
            --brand-color4: #37c3f5;
            --gray-0: #f8fafb;
            --gray-1: #f2f4f6;
            --gray-2: #ebedef;
            --gray-3: #e0e4e5;
            --gray-4: #d1d6d8;
            --gray-6: #979b9d;
            --gray-12: #121210;
            --border-radius: 8px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, sans-serif;
            background: var(--gray-0);
            color: var(--gray-12);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 32px 16px;
        }

        .calculator {
            max-width: 1200px;
            width: 100%;
            background: white;
            border-radius: calc(var(--border-radius) * 2);
            padding: 32px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 32px;
            align-items: start;
        }

        @media (max-width: 900px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
        }

        h1 {
            margin: 0 0 8px;
            color: black;
            font-size: 32px;
        }

        .subtitle {
            margin: 0 0 24px;
            color: black;
            font-size: 16px;
        }

        .nav {
            margin-bottom: 24px;
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .nav a {
            padding: 8px 16px;
            background: var(--gray-1);
            border-radius: var(--border-radius);
            text-decoration: none;
            color: black;
            font-weight: 500;
        }

        .nav a:hover {
            background: var(--gray-2);
        }

        .nav a.active {
            background: var(--brand-color2);
            color: white;
        }

        .breed-tabs {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-bottom: 32px;
            border-bottom: 2px solid var(--gray-3);
            padding-bottom: 0;
        }

        .breed-tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            text-decoration: none;
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-6);
            transition: all 0.15s ease-in-out;
            margin-bottom: -2px;
        }

        .breed-tab:hover {
            color: var(--brand-color2);
        }

        .breed-tab.active {
            color: var(--brand-color2);
            border-bottom-color: var(--brand-color2);
        }

        .gene-group-container {
            padding: 24px;
            background: var(--gray-0);
            border-radius: var(--border-radius);
            min-height: 400px;
            display: flex;
            flex-direction: column;
        }

        .gene-group {
            margin-bottom: 32px;
        }

        .gene-group:last-child {
            margin-bottom: 0;
        }

        .gene-group h3 {
            margin: 0 0 12px;
            font-size: 15px;
            color: black;
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .gene-group h3:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 0;
            bottom: 100%;
            margin-bottom: 7px;
            padding: 12px;
            background: white;
            color: black;
            border-radius: var(--border-radius);
            font-size: 13px;
            font-weight: 400;
            line-height: 1.5;
            white-space: pre-wrap;
            max-width: 400px;
            width: max-content;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--gray-3);
        }

        .allele-selector {
            display: flex;
            justify-content: flex-start;
            gap: 16px;
            flex-wrap: wrap;
        }

        .allele-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 80px;
            border: 2px solid var(--gray-4);
            border-radius: 8px;
            padding: 12px 20px;
            background: white;
            color: black;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.15s ease-in-out;
        }

        .allele-btn:hover {
            border-color: var(--brand-color3);
            background: var(--gray-0);
        }

        .allele-btn.selected {
            border-color: var(--brand-color2);
            border-width: 3px;
            background: white;
            color: black;
        }

        .allele-btn:active {
            scale: 0.95;
        }

        .result-section {
            padding: 32px;
            background: var(--gray-0);
            border-radius: var(--border-radius);
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: sticky;
            top: 32px;
        }

        .result-color {
            font-size: 28px;
            font-weight: 600;
            color: black;
            margin: 0 0 16px 0;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .result-color.visible {
            opacity: 1;
        }

        .result-description {
            font-size: 16px;
            color: var(--gray-6);
            max-width: 400px;
            text-align: center;
            margin-top: 16px;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .result-description.visible {
            opacity: 1;
        }

        .result-image {
            max-width: 400px;
            width: 100%;
            min-height: 300px;
            margin-top: 16px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .result-image img {
            width: 100%;
            height: auto;
            display: block;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .result-image img.loaded {
            opacity: 1;
        }

        .genes-section {
            text-align: left;
        }

        .gene-summary {
            margin-top: 48px;
            padding-top: 32px;
            border-top: 1px solid var(--gray-2);
            text-align: left;
        }

        .gene-summary h2 {
            font-size: 20px;
            margin-bottom: 24px;
            color: black;
        }

        .gene-info {
            margin-bottom: 24px;
        }

        .gene-info h4 {
            font-size: 16px;
            color: black;
            margin: 0 0 8px;
        }

        .gene-info p {
            margin: 0 0 12px;
            color: black;
            line-height: 1.6;
        }

        .allele-list {
            margin: 8px 0;
            padding-left: 20px;
        }

        .allele-list li {
            margin-bottom: 6px;
            color: black;
            line-height: 1.5;
        }

        @media (max-width: 540px) {
            .calculator {
                padding: 24px 16px;
            }

            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="calculator">
        <div class="nav">
            <a href="../../index.php" class="active">Color Calculator</a>
            <a href="../../breeding-calculator.php">Breeding Calculator</a>
        </div>

        <h1>Hereford Cattle Color Calculator</h1>
        <p class="subtitle">Select alleles to determine coat color and markings</p>

        <div class="breed-tabs">
            <a href="../../index.php" class="breed-tab">Highland Cattle</a>
            <a href="../WhitePark/white-park-calculator.html" class="breed-tab">White Park Cattle</a>
            <a href="../Shorthorn/shorthorn-calculator.html" class="breed-tab">Shorthorn Cattle</a>
            <a href="hereford-calculator.html" class="breed-tab active">Hereford Cattle</a>
        </div>

        <div class="calculator-grid">
            <div class="genes-section">
                <div class="gene-group-container">
                    <div class="gene-group">
                        <h3 data-tooltip="MC1R controls base coat color. E (dominant) produces black pigment, e (recessive) produces red pigment.">MC1R (Extension)</h3>
                        <div class="allele-selector">
                            <button class="allele-btn" data-gene="mc1r" data-position="0" data-options='["E","e"]'>E</button>
                            <button class="allele-btn" data-gene="mc1r" data-position="1" data-options='["E","e"]'>E</button>
                        </div>
                    </div>

                    <div class="gene-group">
                        <h3 data-tooltip="KIT gene controls white spotting pattern. W produces the characteristic white face and markings, + is wildtype with minimal white.">KIT (White Spotting)</h3>
                        <div class="allele-selector">
                            <button class="allele-btn" data-gene="kit" data-position="0" data-options='["W","+"]'>W</button>
                            <button class="allele-btn" data-gene="kit" data-position="1" data-options='["W","+"]'>W</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="result-section">
                <div class="result-color" id="result"></div>
                <div class="result-description" id="resultDescription"></div>
            </div>
        </div>

        <div class="gene-summary">
            <h2>Gene Information</h2>

            <div class="gene-info">
                <h4>MC1R (Extension) Gene</h4>
                <p>The MC1R gene controls whether the animal produces black or red pigment in their coat.</p>
                <ul class="allele-list">
                    <li><strong>E (Dominant Black):</strong> Produces black pigment. One or two copies result in a black base coat.</li>
                    <li><strong>e (Recessive Red):</strong> Produces red pigment. Two copies (e/e) result in the traditional red Hereford color.</li>
                </ul>
            </div>

            <div class="gene-info">
                <h4>KIT (White Spotting) Gene</h4>
                <p>The KIT gene controls the distribution of white markings on the animal's face, underline, legs, and tail.</p>
                <ul class="allele-list">
                    <li><strong>W (White Spotting):</strong> Produces the characteristic Hereford white face pattern with extensive white on the head, crest, underline, and lower legs. This is dominant.</li>
                    <li><strong>+ (Wildtype):</strong> Minimal white expression, resulting in reduced white markings limited to face and underline only.</li>
                </ul>
            </div>

            <div class="gene-info">
                <h4>Color Outcomes</h4>
                <ul class="allele-list">
                    <li><strong>e/e + W/_ (Traditional Hereford):</strong> Red body with white face, crest, underline, and lower legs. Classic "whiteface" breed standard.</li>
                    <li><strong>e/e + +/+ :</strong> Red body with minimal white - limited to face and narrow underline only.</li>
                    <li><strong>E/_ + W/_ (Black Hereford):</strong> Black body with white face pattern. Common in Black Hereford associations (Hereford Ã— Angus crosses).</li>
                    <li><strong>E/_ + +/+ :</strong> Black body with minimal white markings, mostly limited to a small face blaze and possibly underline.</li>
                </ul>
            </div>

            <div class="gene-info">
                <h4>About Hereford Cattle</h4>
                <p>Hereford cattle originated in Herefordshire, England, and are one of the most widely distributed beef breeds in the world. They are known for their docile temperament, hardiness, and excellent foraging ability. The breed's distinctive white face and red body are iconic in the beef industry.</p>
                <p>Black Herefords were developed by crossing traditional Herefords with Angus cattle to combine the Hereford's white face pattern with black coloring. The white face pattern remains dominant even with the black base coat.</p>
            </div>
        </div>
    </div>

    <script>
        const state = {
            mc1r: ['E', 'E'],
            kit: ['W', 'W']
        };

        const alleleDisplay = {
            'E': 'E',
            'e': 'e',
            'W': 'W',
            '+': '+'
        };

        function herefordColor(mc1r, kit) {
            // Determine base color
            const isRed = mc1r[0] === 'e' && mc1r[1] === 'e';

            // Determine white pattern
            const hasWhiteFace = kit[0] === 'W' || kit[1] === 'W';

            if (isRed && hasWhiteFace) {
                return {
                    color: 'Red with White Face',
                    description: 'Traditional Hereford: deep red body with white face, crest, underline, switch, and lower legs'
                };
            } else if (isRed && !hasWhiteFace) {
                return {
                    color: 'Red with White Underline',
                    description: 'Red coat with white limited to the face and narrow underline, less extensive white on legs and tail'
                };
            } else if (!isRed && hasWhiteFace) {
                return {
                    color: 'Black with White Face',
                    description: 'Black Hereford: solid black body with white face, crest, and underline similar to traditional pattern'
                };
            } else {
                return {
                    color: 'Black with White Underline',
                    description: 'Mostly black coat with narrow white face blaze and minimal white on underline'
                };
            }
        }

        let currentColor = null;

        function updateResult(isInitialLoad = false) {
            const result = herefordColor(state.mc1r, state.kit);
            const resultText = document.getElementById('result');
            const resultDescription = document.getElementById('resultDescription');

            // Check if color changed
            const colorChanged = result.color !== currentColor;
            if (!colorChanged && !isInitialLoad) {
                return;
            }

            currentColor = result.color;

            // Update result text and description
            resultText.textContent = result.color;
            resultDescription.textContent = result.description;

            if (isInitialLoad) {
                // Initial load - simple fade in
                requestAnimationFrame(() => {
                    resultText.classList.add('visible');
                    resultDescription.classList.add('visible');
                });
            } else {
                // Fade out and in
                resultText.classList.remove('visible');
                resultDescription.classList.remove('visible');

                setTimeout(() => {
                    requestAnimationFrame(() => {
                        resultText.classList.add('visible');
                        resultDescription.classList.add('visible');
                    });
                }, 100);
            }
        }

        function handleAlleleClick(event) {
            const button = event.target.closest('.allele-btn');
            if (!button) return;

            const gene = button.dataset.gene;
            const position = parseInt(button.dataset.position);
            const options = JSON.parse(button.dataset.options);

            // Get current value
            const currentValue = state[gene][position];
            const currentIndex = options.indexOf(currentValue);

            // Cycle to next option
            const nextIndex = (currentIndex + 1) % options.length;
            const nextValue = options[nextIndex];

            // Update state
            state[gene][position] = nextValue;

            // Update button display
            button.textContent = alleleDisplay[nextValue];

            // Calculate result
            updateResult();
        }

        // Add event listeners
        document.querySelectorAll('.allele-btn').forEach(button => {
            button.addEventListener('click', handleAlleleClick);
        });

        // Initialize
        updateResult(true);
    </script>
</body>
</html>
